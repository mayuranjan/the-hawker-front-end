{"version":3,"sources":["../../../../src/app/typescripts/pro/material-select/selectDropdownComponent.ts"],"names":[],"mappings":"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","file":"selectDropdownComponent.js","sourceRoot":"","sourcesContent":["import {\r\n    AfterViewInit,\r\n    Component,\r\n    EventEmitter,\r\n    Input,\r\n    OnChanges,\r\n    OnInit,\r\n    Output,\r\n    ViewChild,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport {Option} from './option';\r\nimport {OptionList} from './optionList';\r\n\r\n\r\n\r\nexport class SelectDropdownComponent\r\n        implements AfterViewInit, OnChanges, OnInit {\r\n\r\n     filterEnabled: boolean;\r\n     highlightColor: string;\r\n     highlightTextColor: string;\r\n     left: number;\r\n     multiple: boolean;\r\n     notFoundMsg: string;\r\n     optionList: OptionList;\r\n     top: number;\r\n     width: number;\r\n     placeholder: string;\r\n\r\n     close = new EventEmitter<boolean>();\r\n     optionClicked = new EventEmitter<Option>();\r\n     singleFilterClick = new EventEmitter<null>();\r\n     singleFilterInput = new EventEmitter<string>();\r\n     singleFilterKeydown = new EventEmitter<any>();\r\n\r\n     filterInput: any;\r\n     optionsList: any;\r\n\r\n    disabledColor: string = '#fff';\r\n    disabledTextColor: string = '9e9e9e';\r\n\r\n    /** Event handlers. **/\r\n\r\n    // Angular life cycle hooks.\r\n\r\n    ngOnInit() {\r\n        this.optionsReset();\r\n    }\r\n\r\n    ngOnChanges(changes: any) {\r\n        if (changes.hasOwnProperty('optionList')) {\r\n            this.optionsReset();\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.moveHighlightedIntoView();\r\n        if (!this.multiple && this.filterEnabled) {\r\n            this.filterInput.nativeElement.focus();\r\n        }\r\n    }\r\n\r\n    // Filter input (single select).\r\n\r\n    onSingleFilterClick(event: any) {\r\n        this.singleFilterClick.emit(null);\r\n    }\r\n\r\n    onSingleFilterInput(event: any) {\r\n        this.singleFilterInput.emit(event.target.value);\r\n    }\r\n\r\n    onSingleFilterKeydown(event: any) {\r\n        this.singleFilterKeydown.emit(event);\r\n    }\r\n\r\n    // Options list.\r\n\r\n    onOptionsWheel(event: any) {\r\n        this.handleOptionsWheel(event);\r\n    }\r\n\r\n    onOptionMouseover(option: Option) {\r\n        this.optionList.highlightOption(option);\r\n    }\r\n\r\n    onOptionClick(option: Option) {\r\n        this.optionClicked.emit(option);\r\n    }\r\n\r\n    /** Initialization. **/\r\n\r\n    private optionsReset() {\r\n        this.optionList.filter('');\r\n        this.optionList.highlight();\r\n    }\r\n\r\n    /** View. **/\r\n\r\n    getOptionStyle(option: Option): any {\r\n        if (option.highlighted) {\r\n            let style: any = {};\r\n\r\n            if (typeof this.highlightColor !== 'undefined') {\r\n                style['background-color'] = this.highlightColor;\r\n            }\r\n            if (typeof this.highlightTextColor !== 'undefined') {\r\n                style['color'] = this.highlightTextColor;\r\n            }\r\n            return style;\r\n        }\r\n        else {\r\n            return {};\r\n        }\r\n    }\r\n\r\n    clearFilterInput() {\r\n        if (this.filterEnabled) {\r\n            this.filterInput.nativeElement.value = '';\r\n        }\r\n    }\r\n\r\n    moveHighlightedIntoView() {\r\n\r\n        let list = this.optionsList.nativeElement;\r\n        let listHeight = list.offsetHeight;\r\n\r\n        let itemIndex = this.optionList.getHighlightedIndex();\r\n\r\n        if (itemIndex > -1) {\r\n            let item = list.children[0].children[itemIndex];\r\n            let itemHeight = item.offsetHeight;\r\n\r\n            let itemTop = itemIndex * itemHeight;\r\n            let itemBottom = itemTop + itemHeight;\r\n\r\n            let viewTop = list.scrollTop;\r\n            let viewBottom = viewTop + listHeight;\r\n\r\n            if (itemBottom > viewBottom) {\r\n                list.scrollTop = itemBottom - listHeight;\r\n            }\r\n            else if (itemTop < viewTop) {\r\n                list.scrollTop = itemTop;\r\n            }\r\n        }\r\n    }\r\n\r\n    private handleOptionsWheel(e: any) {\r\n        let div = this.optionsList.nativeElement;\r\n        let atTop = div.scrollTop === 0;\r\n        let atBottom = div.offsetHeight + div.scrollTop === div.scrollHeight;\r\n\r\n        if (atTop && e.deltaY < 0) {\r\n            e.preventDefault();\r\n        }\r\n        else if (atBottom && e.deltaY > 0) {\r\n            e.preventDefault();\r\n        }\r\n    }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n    selector: 'select-dropdown',\r\n    template: `\r\n        <div class=\"dropdown-content\" [ngStyle]=\"{'top.px': top, 'left.px': left, 'width.px': width}\">\r\n\r\n            <div class=\"filter\"\r\n                *ngIf=\"!multiple && filterEnabled\">\r\n                <input\r\n                    #filterInput\r\n                    autocomplete=\"on\"\r\n                    [placeholder]=\"placeholder\"\r\n                    (click)=\"onSingleFilterClick($event)\"\r\n                    (input)=\"onSingleFilterInput($event)\"\r\n                    (keydown)=\"onSingleFilterKeydown($event)\">\r\n            </div>\r\n\r\n            <div class=\"options\"\r\n                #optionsList>\r\n                <ul class=\"select-dropdown\" [ngClass]=\"{'multiple-select-dropdown': multiple}\"\r\n                    (wheel)=\"onOptionsWheel($event)\">\r\n                    <li *ngFor=\"let option of optionList.filtered\"\r\n                        [ngClass]=\"{'active': option.highlighted, 'selected': option.selected, 'disabled': option.disabled, 'optgroup': option.group}\"\r\n                        [ngStyle]=\"getOptionStyle(option)\"\r\n                        (click)=\"onOptionClick(option)\"\r\n                        (mouseover)=\"onOptionMouseover(option)\">\r\n                        <img class=\"rounded-circle\" [src]=\"option.icon\" *ngIf=\"option.icon !== ''\">\r\n                        <span class=\"select-option\" *ngIf=\"!multiple\">{{option.label}}</span>\r\n                        <span class=\"filtrable\" *ngIf=\"multiple\">\r\n                            <input type=\"checkbox\" [checked]=\"option.selected\">\r\n                            <label></label>\r\n                            {{option.label}}\r\n                        </span>\r\n                    </li>\r\n                    <li\r\n                        *ngIf=\"!optionList.hasShown\"\r\n                        class=\"message disabled\">\r\n                        <span>{{notFoundMsg}}</span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    `,\r\n    encapsulation: ViewEncapsulation.None\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'filterEnabled': [{ type: Input },],\n'highlightColor': [{ type: Input },],\n'highlightTextColor': [{ type: Input },],\n'left': [{ type: Input },],\n'multiple': [{ type: Input },],\n'notFoundMsg': [{ type: Input },],\n'optionList': [{ type: Input },],\n'top': [{ type: Input },],\n'width': [{ type: Input },],\n'placeholder': [{ type: Input },],\n'close': [{ type: Output },],\n'optionClicked': [{ type: Output },],\n'singleFilterClick': [{ type: Output },],\n'singleFilterInput': [{ type: Output },],\n'singleFilterKeydown': [{ type: Output },],\n'filterInput': [{ type: ViewChild, args: ['filterInput', ] },],\n'optionsList': [{ type: ViewChild, args: ['optionsList', ] },],\n};\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}